"use strict";(self.webpackChunkomniscraper_frontend=self.webpackChunkomniscraper_frontend||[]).push([[38],{3441:(e,t,o)=>{var n=o(5318);t.Z=void 0;var r=n(o(4938)),a=o(5893),i=(0,r.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.Z=i},2500:(e,t,o)=>{var n=o(5318);t.Z=void 0;var r=n(o(4938)),a=o(5893),i=(0,r.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm6 13h-5l-1-2H9.5v5H8V7h6l1 2h3v6z"}),"FlagCircle");t.Z=i},1359:(e,t,o)=>{var n=o(5318);t.Z=void 0;var r=n(o(4938)),a=o(5893),i=(0,r.default)((0,a.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.Z=i},5084:(e,t,o)=>{var n=o(5318);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var o=i(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}n.default=e,o&&o.set(e,n)}(o(7294));var r=n(o(4938)),a=o(5893);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(i=function(e){return e?o:t})(e)}var l=(0,r.default)((0,a.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");t.Z=l},5038:(e,t,o)=>{o.r(t),o.d(t,{Video:()=>Ue,default:()=>Ge});var n=o(5671),r=o(3144),a=o(7326),i=o(136),l=o(6215),s=o(1120),d=o(2928),c=o(7462),u=o(4942),p=o(3253),h=o(6931),f=o(1366),v=o(9669),g=o.n(v),m=o(7294),Z=o(1203),b=o(3441),y=o(5084),_=o(2500),w=o(1359),S=o(4400),x=o.n(S),C=o(3838),k=o(7750),P=o(7645),R=o(3366),z=(o(5697),o(6010)),O=o(7192),j=o(917),N=o(1796),I=o(8216),$=o(2734),D=o(1861),E=o(9130),B=o(8979),M=o(6087);function T(e){return(0,B.Z)("MuiLinearProgress",e)}(0,M.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var F=o(5893);const V=["className","color","value","valueBuffer","variant"];let q,L,W,A,H,U,X=e=>e;const G=(0,j.F4)(q||(q=X`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),J=(0,j.F4)(L||(L=X`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),K=(0,j.F4)(W||(W=X`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Q=(e,t)=>"inherit"===t?"currentColor":"light"===e.palette.mode?(0,N.$n)(e.palette[t].main,.62):(0,N._j)(e.palette[t].main,.5),Y=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${(0,I.Z)(o.color)}`],t[o.variant]]}})((({ownerState:e,theme:t})=>(0,c.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Q(t,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"}))),ee=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.dashed,t[`dashedColor${(0,I.Z)(o.color)}`]]}})((({ownerState:e,theme:t})=>{const o=Q(t,e.color);return(0,c.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:`radial-gradient(${o} 0%, ${o} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,j.iv)(A||(A=X`
    animation: ${0} 3s infinite linear;
  `),K)),te=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.bar,t[`barColor${(0,I.Z)(o.color)}`],("indeterminate"===o.variant||"query"===o.variant)&&t.bar1Indeterminate,"determinate"===o.variant&&t.bar1Determinate,"buffer"===o.variant&&t.bar1Buffer]}})((({ownerState:e,theme:t})=>(0,c.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":t.palette[e.color].main},"determinate"===e.variant&&{transition:"transform .4s linear"},"buffer"===e.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,j.iv)(H||(H=X`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),G))),oe=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.bar,t[`barColor${(0,I.Z)(o.color)}`],("indeterminate"===o.variant||"query"===o.variant)&&t.bar2Indeterminate,"buffer"===o.variant&&t.bar2Buffer]}})((({ownerState:e,theme:t})=>(0,c.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":t.palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:Q(t,e.color),transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,j.iv)(U||(U=X`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),J))),ne=m.forwardRef((function(e,t){const o=(0,E.Z)({props:e,name:"MuiLinearProgress"}),{className:n,color:r="primary",value:a,valueBuffer:i,variant:l="indeterminate"}=o,s=(0,R.Z)(o,V),d=(0,c.Z)({},o,{color:r,variant:l}),u=(e=>{const{classes:t,variant:o,color:n}=e,r={root:["root",`color${(0,I.Z)(n)}`,o],dashed:["dashed",`dashedColor${(0,I.Z)(n)}`],bar1:["bar",`barColor${(0,I.Z)(n)}`,("indeterminate"===o||"query"===o)&&"bar1Indeterminate","determinate"===o&&"bar1Determinate","buffer"===o&&"bar1Buffer"],bar2:["bar","buffer"!==o&&`barColor${(0,I.Z)(n)}`,"buffer"===o&&`color${(0,I.Z)(n)}`,("indeterminate"===o||"query"===o)&&"bar2Indeterminate","buffer"===o&&"bar2Buffer"]};return(0,O.Z)(r,T,t)})(d),p=(0,$.Z)(),h={},f={bar1:{},bar2:{}};if("determinate"===l||"buffer"===l)if(void 0!==a){h["aria-valuenow"]=Math.round(a),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=a-100;"rtl"===p.direction&&(e=-e),f.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===l)if(void 0!==i){let e=(i||0)-100;"rtl"===p.direction&&(e=-e),f.bar2.transform=`translateX(${e}%)`}else 0;return(0,F.jsxs)(Y,(0,c.Z)({className:(0,z.Z)(u.root,n),ownerState:d,role:"progressbar"},h,{ref:t},s,{children:["buffer"===l?(0,F.jsx)(ee,{className:u.dashed,ownerState:d}):null,(0,F.jsx)(te,{className:u.bar1,ownerState:d,style:f.bar1}),"determinate"===l?null:(0,F.jsx)(oe,{className:u.bar2,ownerState:d,style:f.bar2})]}))}));var re=o(128),ae=o(7434),ie=o(2849);const le=function(e){var t=e.height,o=e.url,n=e.handleClick,r=e.lapse,a=e.text,i=e.type;return e.play,(0,d.Z)("div",{className:"desktop__trending__video",onClick:function(){return n()}},void 0,(0,d.Z)(ae.Z,{desktopTrending:!0,src:o,handleClick:n,height:t,screen:"list",playIconSize:40,style:{width:"30%"},type:i}),(0,d.Z)("div",{className:"desktop__trending__video_right"},void 0,(0,d.Z)("div",{className:"desktop__trending__video_right__top"},void 0,(0,d.Z)("p",{className:"desktop__trending__video_text"},void 0,a)),(0,d.Z)("div",{className:"desktop__trending__video_right__bottom"},void 0,(0,d.Z)("p",{className:"desktop__trending__video_text"},void 0,r))))};var se=o(5987),de=["children"];const ce=function(e){var t=e.children,o=(0,se.Z)(e,de);return m.createElement("div",(0,c.Z)({className:"paper"},o),t)};var ue;const pe=function(){return ue||(ue=(0,d.Z)("div",{className:"trending__placeholder"},void 0,(0,d.Z)("div",{className:"trending__placeholder__left"}),(0,d.Z)("div",{className:"trending__placeholder__right"},void 0,(0,d.Z)("div",{className:"trending__placeholder__right__top"},void 0,(0,d.Z)("div",{className:"trending__placeholder__right__top__child"}),(0,d.Z)("div",{className:"trending__placeholder__right__top__child"})),(0,d.Z)("div",{className:"trending__placeholder__right__bottom"}))))};var he=o(8130),fe=o(1628),ve=o(6706),ge=o(3257),me=o(5861),Ze=o(7757),be=o.n(Ze),ye=o(3447),_e=o(7720),we=o(8716),Se=o(9062),xe=o(7925),Ce=o(6637);function ke(e){return(0,B.Z)("MuiButton",e)}const Pe=(0,M.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Re=m.createContext({}),ze=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Oe=e=>(0,c.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),je=(0,D.ZP)(Ce.Z,{shouldForwardProp:e=>(0,D.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`${o.variant}${(0,I.Z)(o.color)}`],t[`size${(0,I.Z)(o.size)}`],t[`${o.variant}Size${(0,I.Z)(o.size)}`],"inherit"===o.color&&t.colorInherit,o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>(0,c.Z)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,c.Z)({textDecoration:"none",backgroundColor:(0,N.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:(0,N.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${e.palette[t.color].main}`,backgroundColor:(0,N.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.palette[t.color].dark,"@media (hover: none)":{backgroundColor:e.palette[t.color].main}}),"&:active":(0,c.Z)({},"contained"===t.variant&&{boxShadow:e.shadows[8]}),[`&.${Pe.focusVisible}`]:(0,c.Z)({},"contained"===t.variant&&{boxShadow:e.shadows[6]}),[`&.${Pe.disabled}`]:(0,c.Z)({color:e.palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${e.palette.action.disabledBackground}`},"outlined"===t.variant&&"secondary"===t.color&&{border:`1px solid ${e.palette.action.disabled}`},"contained"===t.variant&&{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].main,border:`1px solid ${(0,N.Fq)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].contrastText,backgroundColor:e.palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pe.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pe.disabled}`]:{boxShadow:"none"}})),Ne=(0,D.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.startIcon,t[`iconSize${(0,I.Z)(o.size)}`]]}})((({ownerState:e})=>(0,c.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},Oe(e)))),Ie=(0,D.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.endIcon,t[`iconSize${(0,I.Z)(o.size)}`]]}})((({ownerState:e})=>(0,c.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},Oe(e)))),$e=m.forwardRef((function(e,t){const o=m.useContext(Re),n=(0,xe.Z)(o,e),r=(0,E.Z)({props:n,name:"MuiButton"}),{children:a,color:i="primary",component:l="button",className:s,disabled:d=!1,disableElevation:u=!1,disableFocusRipple:p=!1,endIcon:h,focusVisibleClassName:f,fullWidth:v=!1,size:g="medium",startIcon:Z,type:b,variant:y="text"}=r,_=(0,R.Z)(r,ze),w=(0,c.Z)({},r,{color:i,component:l,disabled:d,disableElevation:u,disableFocusRipple:p,fullWidth:v,size:g,type:b,variant:y}),S=(e=>{const{color:t,disableElevation:o,fullWidth:n,size:r,variant:a,classes:i}=e,l={root:["root",a,`${a}${(0,I.Z)(t)}`,`size${(0,I.Z)(r)}`,`${a}Size${(0,I.Z)(r)}`,"inherit"===t&&"colorInherit",o&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,I.Z)(r)}`],endIcon:["endIcon",`iconSize${(0,I.Z)(r)}`]},s=(0,O.Z)(l,ke,i);return(0,c.Z)({},i,s)})(w),x=Z&&(0,F.jsx)(Ne,{className:S.startIcon,ownerState:w,children:Z}),C=h&&(0,F.jsx)(Ie,{className:S.endIcon,ownerState:w,children:h});return(0,F.jsxs)(je,(0,c.Z)({ownerState:w,className:(0,z.Z)(s,o.className),component:l,disabled:d,focusRipple:!p,focusVisibleClassName:(0,z.Z)(S.focusVisible,f),ref:t,type:b},_,{classes:S,children:[x,a,C]}))}));var De,Ee,Be;function Me(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return(0,l.Z)(this,o)}}var Fe=function(e){(0,i.Z)(o,e);var t=Te(o);function o(){var e;(0,n.Z)(this,o);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,a.Z)(e),"state",{flagReason:"",twitterHandle:"",reasonError:!1}),(0,u.Z)((0,a.Z)(e),"submitFlaggingRequest",(0,me.Z)(be().mark((function t(){var o,n,r,a,i,l,s;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.state,n=o.flagReason,r=o.twitterHandle,a=e.props,i=a.postFlagRequest,l=a.videoSlug,!(n.length>0&&n.length<=144)){t.next=9;break}return s={flagging_reason:n,twitter_handle:r,slug:l},t.next=6,i(s);case 6:e.props.handleClose(),t.next=10;break;case 9:e.setState({reasonError:!0});case 10:case"end":return t.stop()}}),t)})))),(0,u.Z)((0,a.Z)(e),"resetComponentState",(function(){e.setState({reasonError:!1,twitterHandle:"",flagReason:""}),e.props.handleClose()})),(0,u.Z)((0,a.Z)(e),"handleChange",(function(t){var o,n=t.target,r=n.name,a=n.value;a.length>144?e.setState({reasonError:!0}):e.setState((o={},(0,u.Z)(o,r,a),(0,u.Z)(o,"reasonError",!1),o))})),e}return(0,r.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.open,o=e.flagRequestLoading,n=this.handleChange,r=this.submitFlaggingRequest,a=this.resetComponentState,i=this.state,l=i.flagReason,s=i.twitterHandle,c=i.reasonError;return(0,d.Z)(C.Z,{maxWidth:"sm",fullWidth:!0,open:t},void 0,De||(De=(0,d.Z)(P.Z,{},void 0,"Report")),Ee||(Ee=(0,d.Z)(_e.Z,{})),(0,d.Z)(k.Z,{},void 0,(0,d.Z)("div",{className:"flag__request_dialog-input"},void 0,(0,d.Z)(we.Z,{label:"Reason",value:l,error:c,fullWidth:!0,required:!0,minRows:2,multiline:!0,onChange:n,helperText:c&&l.length>144?"The reason should be less than 144 characters":c&&0==l.length?"A reason to flag this video is required":"".concat(l.length,"/144"),name:"flagReason"})),(0,d.Z)("div",{className:"flag__request_dialog-input"},void 0,(0,d.Z)(we.Z,{label:"Twitter handle",value:s,placeholder:"Optional",onChange:n,fullWidth:!0,name:"twitterHandle"}))),Be||(Be=(0,d.Z)(_e.Z,{})),(0,d.Z)(ye.Z,{},void 0,(0,d.Z)($e,{onClick:a},void 0,"Cancel"),(0,d.Z)($e,{variant:"contained",onClick:r,endIcon:o?(0,d.Z)(Se.Z,{style:{color:"#fff"}}):""},void 0,"Submit")))}}]),o}(m.Component),Ve={postFlagRequest:ge.ce};const qe=(0,ve.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(o),!0).forEach((function(t){(0,u.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Me(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e.flagRequests)}),Ve)(Fe);var Le;function We(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return(0,l.Z)(this,o)}}function He(e){return(0,d.Z)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},void 0,(0,d.Z)("div",{style:{width:"100%",marginRight:"16px"}},void 0,m.createElement(ne,(0,c.Z)({variant:"determinate"},e,{style:{height:"8px",borderRadius:"5px"}}))),(0,d.Z)("div",{style:{minWidth:"35px"}},void 0,(0,d.Z)("p",{style:{color:"#0087FE",fontWeight:600}},void 0,"".concat(Math.round(e.value),"%"))))}var Ue=function(e){(0,i.Z)(o,e);var t=Ae(o);function o(e){var r;return(0,n.Z)(this,o),r=t.call(this,e),(0,u.Z)((0,a.Z)(r),"componentDidMount",(function(){r.loadVideo()})),(0,u.Z)((0,a.Z)(r),"loadVideo",(function(){r.setState({loading:!0,play:!1},(function(){var e=r.props.match.params.slug,t="/api/".concat(e),o=r.props.history;g().get(t,{transformResponse:function(e){return x().parse(e)},onDownloadProgress:function(e){console.log("Event: ".concat(e.total))}}).then((function(e){200===e.status?r.setState({video:e.data,loading:!1},(function(){return r.handleVideoPlayState()})):o.push({pathname:"/"})})).catch((function(e){o.push({pathname:"/"}),r.setState({error:e.message,loading:!1})}))}))})),(0,u.Z)((0,a.Z)(r),"downloadVideo",(function(e){var t=e.url,o=e.slug;g()({url:t,method:"GET",responseType:"blob",onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);r.setState({progressDialogOpen:!0,downloadProgress:t}),100===t&&r.handleProgressDialogClose()}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data],{type:"video/mp4"})),n=document.createElement("a");n.href=t,n.download="".concat(o,".mp4"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t)}))})),(0,u.Z)((0,a.Z)(r),"handleSpeedDialOpen",(function(){r.setState({speedDialOpen:!0})})),(0,u.Z)((0,a.Z)(r),"handleSpeedDialClose",(function(){r.setState({speedDialOpen:!1})})),(0,u.Z)((0,a.Z)(r),"handleVideoPlayState",(function(e){var t,o,n;(console.log("Current time: ",r.vidRef.current.currentTime),console.log("Duration: ",r.vidRef.current.duration),null!==(t=r.vidRef.current)&&void 0!==t&&t.paused)?(r.setState({play:!0}),null===(o=r.vidRef.current)||void 0===o||o.play()):(r.setState({play:!1}),null===(n=r.vidRef.current)||void 0===n||n.pause())})),(0,u.Z)((0,a.Z)(r),"handlePlayTime",(function(){})),(0,u.Z)((0,a.Z)(r),"handleShare",(function(e){navigator.share?navigator.share({url:e.slug}).then((function(){console.log("Thanks for sharing!")})).catch((function(e){console.log("Couldn't share url because of ".concat(e.message))})):console.log("Web share not supported!")})),(0,u.Z)((0,a.Z)(r),"handleProgressDialogClose",(function(){r.setState({progressDialogOpen:!1,downloadProgress:0})})),(0,u.Z)((0,a.Z)(r),"handleTrendingVideoClick",(function(e){r.props.history.push("/".concat(e)),r.setState({autoPlayTrending:!0})})),(0,u.Z)((0,a.Z)(r),"flagVideo",(function(e){var t="".concat(e.slug);r.setState({flagging:!0},(function(){fe.b.patch(t,{id:e.id,url:e.url,parent_tweet_id:e.parent_tweet_id,slug:e.slug,flagged:true}).then((function(e){200===e.status&&(r.setState({flagging:!1}),r.closeReportPrompt())})).catch((function(e){r.setState({flagging:!1}),r.closeReportPrompt()}))}))})),(0,u.Z)((0,a.Z)(r),"openReportPrompt",(function(e){r.setState({reportPromptOpen:!0,clickedVideo:e})})),(0,u.Z)((0,a.Z)(r),"closeReportPrompt",(function(){r.setState({reportPromptOpen:!1})})),r.state={error:!1,loading:!1,video:{},speedDialOpen:!0,play:!1,progressDialogOpen:!1,downloadProgress:0,flagging:!1,reportPromptOpen:!1,clickedVideo:null},r.vidRef=m.createRef(),r.ref=m.createRef(),r}return(0,r.Z)(o,[{key:"componentDidUpdate",value:function(e){e.match.params.slug!==this.props.match.params.slug&&this.loadVideo()}},{key:"render",value:function(){var e,t,o=this.downloadVideo,n=(this.handleSpeedDialOpen,this.handleSpeedDialClose,this.handleVideoPlayState),r=this.handleShare,a=this.handleProgressDialogClose,i=this.handleTrendingVideoClick,l=this.flagVideo,s=this.openReportPrompt,c=this.closeReportPrompt,u=this.state,f=u.video,v=u.loading,g=(u.speedDialOpen,u.play),Z=u.autoPlayTrending,S=u.flagging,x=u.reportPromptOpen,R=u.clickedVideo,z=this.props,O=z.classes,j=z.autoplayVideo,N=(z.history,z.loggedIn),I=z.trendingVideos,$=z.trendingVideosLoading,D=(0,re.S)(f),E=null!==f.text&&(null===(e=f.text)||void 0===e?void 0:e.indexOf("https")),B=null!==f.text&&(null===(t=f.text)||void 0===t?void 0:t.slice(0,E).trim()),M=(m.Fragment,he.Z,(0,d.Z)(C.Z,{onClose:a,fullWidth:!0,maxWidth:"sm",open:this.state.progressDialogOpen},void 0,(0,d.Z)(P.Z,{className:O.title},void 0,"Download Progress"),(0,d.Z)(k.Z,{style:{marginBottom:8}},void 0,(0,d.Z)(He,{value:this.state.downloadProgress})))),T=null===I||void 0===I?void 0:I.filter((function(e){return e.id!==f.id}));return m.createElement(m.Fragment,null,(0,d.Z)(qe,{open:x,handleClose:c,videoSlug:null===f||void 0===f?void 0:f.slug}),(0,d.Z)("div",{className:O.root},void 0,(0,d.Z)(h.Z,{mdDown:!0},void 0,(0,d.Z)("div",{className:"grid__container"},void 0,(0,d.Z)("div",{className:"main"},void 0,m.createElement(m.Fragment,null,v?(0,d.Z)(ie.Z,{style:{width:"100%"},height:"61vh",view:"detail",loggedIn:N}):m.createElement(ae.Z,{view:"detail",device:"desktop",displayBottomActions:!0,playIconSize:60,style:{width:"100%"},type:"video",height:"60vh",src:f.url,handleClick:function(e){n(e)},play:g,buttons:m.createElement(m.Fragment,null,N&&(0,d.Z)(p.Z,{type:"icon",onClick:function(){return s(f)},style:{marginRight:8}},void 0,(0,d.Z)(_.Z,{style:{fontSize:18}})),(0,d.Z)(p.Z,{type:"icon",target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/i/status/".concat(f.parent_tweet_id)},void 0,(0,d.Z)(y.Z,{style:{fontSize:18}})),(0,d.Z)(p.Z,{type:"icon",onClick:function(){return r(f)},style:{margin:"0 8px"}},void 0,(0,d.Z)(w.Z,{style:{fontSize:18}})),(0,d.Z)(p.Z,{type:"icon",onClick:function(){return o(f)}},void 0,(0,d.Z)(b.Z,{style:{fontSize:18}}))),autoPlay:j||Z,text:B,lapse:D,ref:this.vidRef}))),(0,d.Z)("div",{className:"trending"},void 0,(0,d.Z)(ce,{style:{paddingLeft:16,paddingTop:16,paddingBottom:4}},void 0,(0,d.Z)("div",{style:{marginBottom:8}},void 0,Le||(Le=(0,d.Z)("p",{className:"trending__videos__heading"},void 0,"Trending this week"))),(0,d.Z)("div",{className:"trending__videos__container"},void 0,$||v?m.createElement(m.Fragment,null,Array.from(new Array(10)).map((function(e,t){return(0,d.Z)(pe,{},t)}))):m.createElement(m.Fragment,null,T.map((function(e){var t=null!==e.video_thumbnail_link_https?e.video_thumbnail_link_https:e.url,o=null!==e.text&&e.text.indexOf("https"),n=null!==e.text&&e.text.slice(0,o).trim(),r=(0,re.S)(e);return(0,d.Z)(le,{type:e.video_thumbnail_link_https?"image":"video",url:t,lapse:r,text:n,height:80,handleClick:function(){return i(e.slug)},play:g},e.id)})))))))),(0,d.Z)(h.Z,{mdUp:!0},void 0,M,m.createElement(m.Fragment,null,v?(0,d.Z)(ie.Z,{style:{width:"100vw"},height:"42vh",view:"list",loggedIn:N}):m.createElement(ae.Z,{displayBottomActions:!0,playIconSize:60,view:"detail",device:"mobile",src:f.url,play:g,handleClick:function(){return n()},autoPlay:j,height:"42vh",style:{width:"100vw"},ref:this.vidRef,type:"video",text:B,lapse:D,buttons:m.createElement(m.Fragment,null,N&&(0,d.Z)(p.Z,{type:"icon",onClick:function(){return s(f)},style:{margin:"0 4px"}},void 0,(0,d.Z)(_.Z,{style:{fontSize:18}})),(0,d.Z)(p.Z,{type:"icon",target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/i/status/".concat(f.parent_tweet_id),style:{margin:"0 4px"}},void 0,(0,d.Z)(y.Z,{style:{fontSize:18}})),(0,d.Z)(p.Z,{type:"icon",onClick:function(){return r(f)},style:{margin:"0 4px"}},void 0,(0,d.Z)(w.Z,{style:{fontSize:18}})),(0,d.Z)(p.Z,{type:"icon",onClick:function(){return o(f)},style:{margin:"0 4px"}},void 0,(0,d.Z)(b.Z,{style:{fontSize:18}})))}),(0,d.Z)("div",{style:{padding:16,paddingTop:24,padingBottom:0}},void 0,(0,d.Z)("p",{className:"trending__videos__heading",style:{paddingBottom:0}},void 0,"Trending this week")),(0,d.Z)("div",{className:"trending__videos__mobile"},void 0,$||v?Array.from(new Array(5)).map((function(e,t){return(0,d.Z)("div",{className:"trending__video__mobile"},void 0,(0,d.Z)(ie.Z,{style:{width:"35vw"},height:"25vh",view:"list",hideTextContainer:!0},t))})):m.createElement(m.Fragment,null,T.map((function(e){var t=null!==e.video_thumbnail_link_https?e.video_thumbnail_link_https:e.url,o=null!==e.text&&e.text.indexOf("https"),n=(null!==e.text&&e.text.slice(0,o).trim(),(0,re.S)(e));return(0,d.Z)("div",{className:"trending__video__mobile"},e.id,(0,d.Z)(ae.Z,{displayBottomActions:!0,playIconSize:40,view:"list",src:t,play:!0,handleClick:function(){return i(e.slug)},autoPlay:j,height:"25vh",style:{width:"35vw"},type:e.video_thumbnail_link_https?"image":"video",lapse:n}))}))))))))}}]),o}(m.PureComponent),Xe={postFlagRequest:ge.ce};const Ge=(0,ve.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?We(Object(o),!0).forEach((function(t){(0,u.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):We(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e.flagRequests)}),Xe)((0,f.Z)((function(e){var t;return{root:(t={flex:1,margin:"auto"},(0,u.Z)(t,e.breakpoints.up("md"),{padding:16,width:"90vw",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"91vh"}),(0,u.Z)(t,e.breakpoints.down("sm"),{paddingTop:8,paddingBottom:16}),(0,u.Z)(t,"width","100vw"),t),autoPlayTrending:!1}}))((0,Z.EN)(Ue)))}}]);